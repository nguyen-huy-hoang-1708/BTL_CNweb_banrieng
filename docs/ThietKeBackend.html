<!DOCTYPE html>
<html>
<head>
<title>ThietKeBackend.md</title>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">

<style>
/* https://github.com/microsoft/vscode/blob/master/extensions/markdown-language-features/media/markdown.css */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

body {
	font-family: var(--vscode-markdown-font-family, -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif);
	font-size: var(--vscode-markdown-font-size, 14px);
	padding: 0 26px;
	line-height: var(--vscode-markdown-line-height, 22px);
	word-wrap: break-word;
}

#code-csp-warning {
	position: fixed;
	top: 0;
	right: 0;
	color: white;
	margin: 16px;
	text-align: center;
	font-size: 12px;
	font-family: sans-serif;
	background-color:#444444;
	cursor: pointer;
	padding: 6px;
	box-shadow: 1px 1px 1px rgba(0,0,0,.25);
}

#code-csp-warning:hover {
	text-decoration: none;
	background-color:#007acc;
	box-shadow: 2px 2px 2px rgba(0,0,0,.25);
}

body.scrollBeyondLastLine {
	margin-bottom: calc(100vh - 22px);
}

body.showEditorSelection .code-line {
	position: relative;
}

body.showEditorSelection .code-active-line:before,
body.showEditorSelection .code-line:hover:before {
	content: "";
	display: block;
	position: absolute;
	top: 0;
	left: -12px;
	height: 100%;
}

body.showEditorSelection li.code-active-line:before,
body.showEditorSelection li.code-line:hover:before {
	left: -30px;
}

.vscode-light.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(0, 0, 0, 0.15);
}

.vscode-light.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(0, 0, 0, 0.40);
}

.vscode-light.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-dark.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 255, 255, 0.4);
}

.vscode-dark.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 255, 255, 0.60);
}

.vscode-dark.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-high-contrast.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 160, 0, 0.7);
}

.vscode-high-contrast.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 160, 0, 1);
}

.vscode-high-contrast.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

img {
	max-width: 100%;
	max-height: 100%;
}

a {
	text-decoration: none;
}

a:hover {
	text-decoration: underline;
}

a:focus,
input:focus,
select:focus,
textarea:focus {
	outline: 1px solid -webkit-focus-ring-color;
	outline-offset: -1px;
}

hr {
	border: 0;
	height: 2px;
	border-bottom: 2px solid;
}

h1 {
	padding-bottom: 0.3em;
	line-height: 1.2;
	border-bottom-width: 1px;
	border-bottom-style: solid;
}

h1, h2, h3 {
	font-weight: normal;
}

table {
	border-collapse: collapse;
}

table > thead > tr > th {
	text-align: left;
	border-bottom: 1px solid;
}

table > thead > tr > th,
table > thead > tr > td,
table > tbody > tr > th,
table > tbody > tr > td {
	padding: 5px 10px;
}

table > tbody > tr + tr > td {
	border-top: 1px solid;
}

blockquote {
	margin: 0 7px 0 5px;
	padding: 0 16px 0 10px;
	border-left-width: 5px;
	border-left-style: solid;
}

code {
	font-family: Menlo, Monaco, Consolas, "Droid Sans Mono", "Courier New", monospace, "Droid Sans Fallback";
	font-size: 1em;
	line-height: 1.357em;
}

body.wordWrap pre {
	white-space: pre-wrap;
}

pre:not(.hljs),
pre.hljs code > div {
	padding: 16px;
	border-radius: 3px;
	overflow: auto;
}

pre code {
	color: var(--vscode-editor-foreground);
	tab-size: 4;
}

/** Theming */

.vscode-light pre {
	background-color: rgba(220, 220, 220, 0.4);
}

.vscode-dark pre {
	background-color: rgba(10, 10, 10, 0.4);
}

.vscode-high-contrast pre {
	background-color: rgb(0, 0, 0);
}

.vscode-high-contrast h1 {
	border-color: rgb(0, 0, 0);
}

.vscode-light table > thead > tr > th {
	border-color: rgba(0, 0, 0, 0.69);
}

.vscode-dark table > thead > tr > th {
	border-color: rgba(255, 255, 255, 0.69);
}

.vscode-light h1,
.vscode-light hr,
.vscode-light table > tbody > tr + tr > td {
	border-color: rgba(0, 0, 0, 0.18);
}

.vscode-dark h1,
.vscode-dark hr,
.vscode-dark table > tbody > tr + tr > td {
	border-color: rgba(255, 255, 255, 0.18);
}

</style>

<style>
/* Tomorrow Theme */
/* http://jmblog.github.com/color-themes-for-google-code-highlightjs */
/* Original theme - https://github.com/chriskempson/tomorrow-theme */

/* Tomorrow Comment */
.hljs-comment,
.hljs-quote {
	color: #8e908c;
}

/* Tomorrow Red */
.hljs-variable,
.hljs-template-variable,
.hljs-tag,
.hljs-name,
.hljs-selector-id,
.hljs-selector-class,
.hljs-regexp,
.hljs-deletion {
	color: #c82829;
}

/* Tomorrow Orange */
.hljs-number,
.hljs-built_in,
.hljs-builtin-name,
.hljs-literal,
.hljs-type,
.hljs-params,
.hljs-meta,
.hljs-link {
	color: #f5871f;
}

/* Tomorrow Yellow */
.hljs-attribute {
	color: #eab700;
}

/* Tomorrow Green */
.hljs-string,
.hljs-symbol,
.hljs-bullet,
.hljs-addition {
	color: #718c00;
}

/* Tomorrow Blue */
.hljs-title,
.hljs-section {
	color: #4271ae;
}

/* Tomorrow Purple */
.hljs-keyword,
.hljs-selector-tag {
	color: #8959a8;
}

.hljs {
	display: block;
	overflow-x: auto;
	color: #4d4d4c;
	padding: 0.5em;
}

.hljs-emphasis {
	font-style: italic;
}

.hljs-strong {
	font-weight: bold;
}
</style>

<style>
/*
 * Markdown PDF CSS
 */

 body {
	font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif, "Meiryo";
	padding: 0 12px;
}

pre {
	background-color: #f8f8f8;
	border: 1px solid #cccccc;
	border-radius: 3px;
	overflow-x: auto;
	white-space: pre-wrap;
	overflow-wrap: break-word;
}

pre:not(.hljs) {
	padding: 23px;
	line-height: 19px;
}

blockquote {
	background: rgba(127, 127, 127, 0.1);
	border-color: rgba(0, 122, 204, 0.5);
}

.emoji {
	height: 1.4em;
}

code {
	font-size: 14px;
	line-height: 19px;
}

/* for inline code */
:not(pre):not(.hljs) > code {
	color: #C9AE75; /* Change the old color so it seems less like an error */
	font-size: inherit;
}

/* Page Break : use <div class="page"/> to insert page break
-------------------------------------------------------- */
.page {
	page-break-after: always;
}

</style>

<script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
</head>
<body>
  <script>
    mermaid.initialize({
      startOnLoad: true,
      theme: document.body.classList.contains('vscode-dark') || document.body.classList.contains('vscode-high-contrast')
          ? 'dark'
          : 'default'
    });
  </script>
<h3 id="thi%E1%BA%BFt-k%E1%BA%BF-backend-chi-ti%E1%BA%BFt-cho-n%E1%BB%81n-t%E1%BA%A3ng-skillsync"><strong>Thiáº¿t káº¿ Backend Chi tiáº¿t cho Ná»n táº£ng SkillSync</strong></h3>
<p>ÄÃ¢y lÃ  má»™t thiáº¿t káº¿ kiáº¿n trÃºc backend cÃ³ kháº£ nÄƒng má»Ÿ rá»™ng, dá»… báº£o trÃ¬ cho ná»n táº£ng SkillSync cá»§a báº¡n, sá»­ dá»¥ng ngÄƒn xáº¿p cÃ´ng nghá»‡ Ä‘Ã£ Ä‘á» xuáº¥t vÃ  phÃ¹ há»£p vá»›i lÆ°á»£c Ä‘á»“ cÆ¡ sá»Ÿ dá»¯ liá»‡u PostgreSQL Ä‘Ã£ cung cáº¥p.</p>
<h4 id="1-t%E1%BB%95ng-quan-ki%E1%BA%BFn-tr%C3%BAc-v%C3%A0-c%C3%B4ng-ngh%E1%BB%87"><strong>1. Tá»•ng quan Kiáº¿n trÃºc vÃ  CÃ´ng nghá»‡</strong></h4>
<p>NgÄƒn xáº¿p cÃ´ng nghá»‡ báº¡n Ä‘Ã£ chá»n lÃ  ráº¥t phÃ¹ há»£p: hiá»‡n Ä‘áº¡i, hiá»‡u quáº£ vÃ  cÃ³ sá»± há»— trá»£ máº¡nh máº½ tá»« cá»™ng Ä‘á»“ng.</p>
<ul>
<li><strong>Framework</strong>: Express.js vá»›i TypeScript</li>
<li><strong>Database &amp; ORM</strong>: PostgreSQL vá»›i Prisma</li>
<li><strong>XÃ¡c thá»±c</strong>: JWT (JSON Web Tokens) Ä‘Æ°á»£c lÆ°u trong <code>httpOnly</code> cookies Ä‘á»ƒ tÄƒng cÆ°á»ng báº£o máº­t.</li>
<li><strong>Validation</strong>: Zod (Ráº¥t tuyá»‡t vá»i khi káº¿t há»£p vá»›i TypeScript Ä‘á»ƒ Ä‘áº£m báº£o dá»¯ liá»‡u Ä‘áº§u vÃ o luÃ´n Ä‘Ãºng Ä‘á»‹nh dáº¡ng).</li>
<li><strong>Logging</strong>: Winston (Äá»ƒ ghi log má»™t cÃ¡ch cÃ³ cáº¥u trÃºc).</li>
<li><strong>TÃ i liá»‡u API</strong>: Swagger/OpenAPI (Tá»± Ä‘á»™ng táº¡o tÃ i liá»‡u tá»« code comments).</li>
</ul>
<h4 id="2-l%E1%BB%B1a-ch%E1%BB%8Dn-orm-prisma-vs-raw-sql"><strong>2. Lá»±a chá»n ORM: Prisma vs. Raw SQL</strong></h4>
<p>Báº¡n Ä‘Ã£ Ä‘á» cáº­p Ä‘áº¿n viá»‡c cÃ¢n nháº¯c giá»¯a ORM vÃ  khÃ´ng dÃ¹ng ORM. DÆ°á»›i Ä‘Ã¢y lÃ  phÃ¢n tÃ­ch nhanh Ä‘á»ƒ kháº³ng Ä‘á»‹nh lá»±a chá»n cá»§a báº¡n:</p>
<ul>
<li>
<p><strong>Sá»­ dá»¥ng ORM (Prisma - Lá»±a chá»n Ä‘Æ°á»£c Ä‘á» xuáº¥t)</strong></p>
<ul>
<li><strong>Æ¯u Ä‘iá»ƒm:</strong>
<ul>
<li><strong>Type Safety:</strong> ÄÃ¢y lÃ  Æ°u Ä‘iá»ƒm lá»›n nháº¥t. Prisma tá»± Ä‘á»™ng táº¡o ra cÃ¡c type TypeScript tá»« schema CSDL cá»§a báº¡n. Äiá»u nÃ y cÃ³ nghÄ©a lÃ  báº¡n sáº½ nháº­n Ä‘Æ°á»£c gá»£i Ã½ code (autocomplete) vÃ  kiá»ƒm tra lá»—i ngay táº¡i thá»i Ä‘iá»ƒm viáº¿t code, giáº£m thiá»ƒu Ä‘Ã¡ng ká»ƒ lá»—i runtime.</li>
<li><strong>TÄƒng tá»‘c Ä‘á»™ phÃ¡t triá»ƒn:</strong> Báº¡n viáº¿t Ã­t code hÆ¡n, cÃ¡c cÃ¢u lá»‡nh query trá»±c quan vÃ  dá»… Ä‘á»c hÆ¡n nhiá»u so vá»›i SQL thuáº§n.</li>
<li><strong>Quáº£n lÃ½ Migration:</strong> Prisma cung cáº¥p má»™t há»‡ thá»‘ng migration máº¡nh máº½ Ä‘á»ƒ quáº£n lÃ½ cÃ¡c thay Ä‘á»•i vá» schema CSDL má»™t cÃ¡ch an toÃ n vÃ  nháº¥t quÃ¡n.</li>
<li><strong>Dá»… sá»­ dá»¥ng:</strong> So vá»›i cÃ¡c ORM khÃ¡c nhÆ° TypeORM, Prisma thÆ°á»ng Ä‘Æ°á»£c Ä‘Ã¡nh giÃ¡ lÃ  cÃ³ cÃº phÃ¡p Ä‘Æ¡n giáº£n vÃ  dá»… há»c hÆ¡n.</li>
</ul>
</li>
<li><strong>NhÆ°á»£c Ä‘iá»ƒm:</strong>
<ul>
<li>CÃ³ thá»ƒ khÃ´ng tá»‘i Æ°u báº±ng SQL thuáº§n cho cÃ¡c truy váº¥n cá»±c ká»³ phá»©c táº¡p. Tuy nhiÃªn, vá»›i dá»± Ã¡n nÃ y, Prisma hoÃ n toÃ n Ä‘á»§ kháº£ nÄƒng xá»­ lÃ½.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>KhÃ´ng sá»­ dá»¥ng ORM (Raw SQL)</strong></p>
<ul>
<li><strong>Æ¯u Ä‘iá»ƒm:</strong>
<ul>
<li>ToÃ n quyá»n kiá»ƒm soÃ¡t vÃ  tá»‘i Æ°u hÃ³a hiá»‡u nÄƒng cho tá»«ng cÃ¢u lá»‡nh SQL.</li>
</ul>
</li>
<li><strong>NhÆ°á»£c Ä‘iá»ƒm:</strong>
<ul>
<li><strong>Ráº¥t nhiá»u code láº·p láº¡i (boilerplate).</strong></li>
<li><strong>Dá»… xáº£y ra lá»—i:</strong> Lá»—i cÃº phÃ¡p trong chuá»—i SQL chá»‰ Ä‘Æ°á»£c phÃ¡t hiá»‡n khi cháº¡y.</li>
<li><strong>KhÃ´ng cÃ³ Type Safety:</strong> Báº¡n pháº£i tá»± Ä‘á»‹nh nghÄ©a kiá»ƒu dá»¯ liá»‡u tráº£ vá», ráº¥t dá»… sai sÃ³t.</li>
<li><strong>Báº£o máº­t:</strong> Pháº£i tá»± xá»­ lÃ½ viá»‡c chá»‘ng SQL Injection má»™t cÃ¡ch cáº©n tháº­n.</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>Káº¿t luáº­n:</strong> Vá»›i má»¥c tiÃªu &quot;Ä‘Æ¡n giáº£n, nhanh chÃ³ng thá»±c thi vÃ  linh hoáº¡t&quot;, <strong>Prisma lÃ  lá»±a chá»n vÆ°á»£t trá»™i</strong>. NÃ³ giÃºp báº¡n táº­p trung vÃ o logic nghiá»‡p vá»¥ thay vÃ¬ viáº¿t cÃ¡c cÃ¢u lá»‡nh CSDL láº·p Ä‘i láº·p láº¡i.</p>
<h4 id="3-c%E1%BA%A5u-tr%C3%BAc-d%E1%BB%B1-%C3%A1n-%C4%91%C3%A3-tinh-ch%E1%BB%89nh"><strong>3. Cáº¥u trÃºc Dá»± Ã¡n (ÄÃ£ tinh chá»‰nh)</strong></h4>
<p>Cáº¥u trÃºc báº¡n Ä‘á» xuáº¥t ráº¥t tá»‘t. TÃ´i chá»‰ thÃªm má»™t vÃ i ghi chÃº Ä‘á»ƒ lÃ m rÃµ hÆ¡n vai trÃ² cá»§a tá»«ng thÆ° má»¥c trong bá»‘i cáº£nh cÃ¡c tÃ­nh nÄƒng má»›i.</p>
<pre class="hljs"><code><div>skillsync-backend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ auth/         # Routes, Controllers, Services cho XÃ¡c thá»±c
â”‚   â”‚   â”œâ”€â”€ roadmaps/     # Routes, Controllers, Services cho Lá»™ trÃ¬nh &amp; Module
â”‚   â”‚   â”œâ”€â”€ progress/     # ... cho Tiáº¿n Ä‘á»™ há»c táº­p
â”‚   â”‚   â”œâ”€â”€ calendar/     # ... cho Lá»‹ch há»c (LearningEvents)
â”‚   â”‚   â”œâ”€â”€ notes/        # ... cho Ghi chÃº AI (AINotes)
â”‚   â”‚   â”œâ”€â”€ interviews/   # ... cho Luyá»‡n phá»ng váº¥n
â”‚   â”‚   â”œâ”€â”€ cvs/          # ... cho XÃ¢y dá»±ng CV
â”‚   â”‚   â””â”€â”€ certificates/ # ... cho Chá»©ng chá»‰
â”‚   â”œâ”€â”€ middleware/       # Middleware chung (xÃ¡c thá»±c, xá»­ lÃ½ lá»—i, logging)
â”‚   â”œâ”€â”€ services/         # CÃ¡c service dÃ¹ng chung (vd: OpenAI, PDF generation)
â”‚   â”œâ”€â”€ utils/            # CÃ¡c hÃ m tiá»‡n Ã­ch (vd: error handling, response format)
â”‚   â”œâ”€â”€ types/            # CÃ¡c Ä‘á»‹nh nghÄ©a type TypeScript chung
â”‚   â”œâ”€â”€ config/           # Cáº¥u hÃ¬nh (database, env variables)
â”‚   â”œâ”€â”€ app.ts            # Khá»Ÿi táº¡o vÃ  cáº¥u hÃ¬nh Express app
â”‚   â””â”€â”€ server.ts         # Äiá»ƒm báº¯t Ä‘áº§u cá»§a server
â”œâ”€â”€ prisma/               # Prisma schema vÃ  migrations
â”œâ”€â”€ .env.example
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â””â”€â”€ Dockerfile
</div></code></pre>
<p><em>Ghi chÃº: Cáº¥u trÃºc <code>api/</code> Ä‘Æ°á»£c chia theo tá»«ng feature giÃºp dá»± Ã¡n dá»… quáº£n lÃ½ hÆ¡n khi má»Ÿ rá»™ng.</em></p>
<hr>
<h4 id="4-thi%E1%BA%BFt-k%E1%BA%BF-api-%C4%91%C3%A3-c%E1%BA%ADp-nh%E1%BA%ADt-theo-usecase-m%E1%BB%9Bi"><strong>4. Thiáº¿t káº¿ API (ÄÃ£ cáº­p nháº­t theo Usecase má»›i)</strong></h4>
<p>DÆ°á»›i Ä‘Ã¢y lÃ  <strong>báº£n thiáº¿t káº¿ API Ä‘áº§y Ä‘á»§, chi tiáº¿t vÃ  má»Ÿ rá»™ng</strong> cho toÃ n bá»™ 8 module cá»§a <strong>SkillSync 2.0</strong>, Ä‘Æ°á»£c viáº¿t báº±ng <strong>tiáº¿ng Viá»‡t</strong> (káº¿t há»£p thuáº­t ngá»¯ ká»¹ thuáº­t tiáº¿ng Anh), tuÃ¢n thá»§ cháº·t cháº½ <strong>usecase</strong>, <strong>schema SQL</strong>, vÃ  há»— trá»£ <strong>nÃ¢ng cao</strong> (WebSocket, upload Ä‘a phÆ°Æ¡ng tiá»‡n, JSON schema rÃµ rÃ ng).</p>
<hr>
<h2 id="%F0%9F%93%8C-module-1-x%C3%A1c-th%E1%BB%B1c--ng%C6%B0%E1%BB%9Di-d%C3%B9ng-authentication--users">ğŸ“Œ <strong>Module 1: XÃ¡c thá»±c &amp; NgÆ°á»i dÃ¹ng (Authentication &amp; Users)</strong></h2>
<h3 id="post-apiauthregister"><code>POST /api/auth/register</code></h3>
<p><strong>Má»¥c Ä‘Ã­ch</strong>: ÄÄƒng kÃ½ tÃ i khoáº£n má»›i<br>
<strong>Request</strong> (<code>application/json</code>):</p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"email"</span>: <span class="hljs-string">"user@example.com"</span>,
  <span class="hljs-attr">"password"</span>: <span class="hljs-string">"SecurePass123!"</span>,
  <span class="hljs-attr">"full_name"</span>: <span class="hljs-string">"Nguyen Van A"</span>
}
</div></code></pre>
<p><strong>Response</strong> (<code>201 Created</code>):</p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"message"</span>: <span class="hljs-string">"User registered successfully"</span>,
  <span class="hljs-attr">"user_id"</span>: <span class="hljs-string">"uuid-1234"</span>
}
</div></code></pre>
<h3 id="post-apiauthlogin"><code>POST /api/auth/login</code></h3>
<p><strong>Má»¥c Ä‘Ã­ch</strong>: ÄÄƒng nháº­p â†’ tráº£ vá» JWT trong <code>httpOnly</code> cookie<br>
<strong>Request</strong> (<code>application/json</code>):</p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"email"</span>: <span class="hljs-string">"user@example.com"</span>,
  <span class="hljs-attr">"password"</span>: <span class="hljs-string">"SecurePass123!"</span>
}
</div></code></pre>
<p><strong>Response</strong> (<code>200 OK</code>): Cookie Ä‘Æ°á»£c set, body:</p>
<pre class="hljs"><code><div>{ <span class="hljs-attr">"message"</span>: <span class="hljs-string">"Login successful"</span> }
</div></code></pre>
<h3 id="post-apiauthlogout"><code>POST /api/auth/logout</code></h3>
<p><strong>Má»¥c Ä‘Ã­ch</strong>: XÃ³a refresh token + xÃ³a cookie<br>
<strong>Response</strong>: <code>204 No Content</code></p>
<h3 id="get-apiusersme"><code>GET /api/users/me</code></h3>
<p><strong>Má»¥c Ä‘Ã­ch</strong>: Láº¥y profile ngÆ°á»i dÃ¹ng hiá»‡n táº¡i<br>
<strong>Response</strong> (<code>200 OK</code>):</p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"user_id"</span>: <span class="hljs-string">"uuid-1234"</span>,
  <span class="hljs-attr">"email"</span>: <span class="hljs-string">"user@example.com"</span>,
  <span class="hljs-attr">"full_name"</span>: <span class="hljs-string">"Nguyen Van A"</span>,
  <span class="hljs-attr">"current_level"</span>: <span class="hljs-string">"beginner"</span>,
  <span class="hljs-attr">"role"</span>: <span class="hljs-string">"user"</span>,
  <span class="hljs-attr">"avatar_url"</span>: <span class="hljs-string">"https://..."</span>,
  <span class="hljs-attr">"created_at"</span>: <span class="hljs-string">"2025-10-25T00:00:00Z"</span>
}
</div></code></pre>
<h3 id="put-apiusersme"><code>PUT /api/users/me</code></h3>
<p><strong>Má»¥c Ä‘Ã­ch</strong>: Cáº­p nháº­t profile<br>
<strong>Request</strong> (<code>application/json</code> â€“ chá»‰ gá»­i field muá»‘n thay Ä‘á»•i):</p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"full_name"</span>: <span class="hljs-string">"Nguyen Van B"</span>,
  <span class="hljs-attr">"current_level"</span>: <span class="hljs-string">"intermediate"</span>
}
</div></code></pre>
<p><strong>Response</strong>: <code>200 OK</code> + body giá»‘ng <code>GET /me</code></p>
<hr>
<h2 id="%F0%9F%93%8C-module-2-l%E1%BB%99-tr%C3%ACnh-h%E1%BB%8Dc--module-roadmaps--modules">ğŸ“Œ <strong>Module 2: Lá»™ trÃ¬nh há»c &amp; Module (Roadmaps &amp; Modules)</strong></h2>
<h3 id="get-apiroadmaps"><code>GET /api/roadmaps</code></h3>
<p><strong>Query</strong>: <code>?status=published</code> (máº·c Ä‘á»‹nh)<br>
<strong>Response</strong>:</p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"roadmaps"</span>: [
    {
      <span class="hljs-attr">"roadmap_id"</span>: <span class="hljs-string">"uuid-r1"</span>,
      <span class="hljs-attr">"title"</span>: <span class="hljs-string">"React Masterclass"</span>,
      <span class="hljs-attr">"category"</span>: <span class="hljs-string">"Frontend"</span>,
      <span class="hljs-attr">"image_url"</span>: <span class="hljs-string">"..."</span>,
      <span class="hljs-attr">"status"</span>: <span class="hljs-string">"published"</span>
    }
  ]
}
</div></code></pre>
<h3 id="get-apiroadmapsroadmapid"><code>GET /api/roadmaps/:roadmapId</code></h3>
<p><strong>Response</strong>:</p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"roadmap_id"</span>: <span class="hljs-string">"uuid-r1"</span>,
  <span class="hljs-attr">"title"</span>: <span class="hljs-string">"..."</span>,
  <span class="hljs-attr">"modules"</span>: [
    {
      <span class="hljs-attr">"module_id"</span>: <span class="hljs-string">"uuid-m1"</span>,
      <span class="hljs-attr">"title"</span>: <span class="hljs-string">"JSX Basics"</span>,
      <span class="hljs-attr">"order_index"</span>: <span class="hljs-number">1</span>,
      <span class="hljs-attr">"estimated_hours"</span>: <span class="hljs-number">2.5</span>
    }
  ]
}
</div></code></pre>
<h3 id="admin-post-apiroadmaps"><code>(Admin) POST /api/roadmaps</code></h3>
<p><strong>Request</strong>:</p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"title"</span>: <span class="hljs-string">"New Roadmap"</span>,
  <span class="hljs-attr">"description"</span>: <span class="hljs-string">"..."</span>,
  <span class="hljs-attr">"category"</span>: <span class="hljs-string">"Backend"</span>,
  <span class="hljs-attr">"image_url"</span>: <span class="hljs-string">"..."</span>
}
</div></code></pre>
<h3 id="admin-put-apiroadmapsroadmapid"><code>(Admin) PUT /api/roadmaps/:roadmapId</code></h3>
<p>â†’ TÆ°Æ¡ng tá»± POST</p>
<h3 id="admin-post-apimodules"><code>(Admin) POST /api/modules</code></h3>
<p><strong>Request</strong>:</p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"roadmap_id"</span>: <span class="hljs-string">"uuid-r1"</span>,
  <span class="hljs-attr">"title"</span>: <span class="hljs-string">"State Management"</span>,
  <span class="hljs-attr">"description"</span>: <span class="hljs-string">"..."</span>,
  <span class="hljs-attr">"content"</span>: <span class="hljs-string">"&lt;h1&gt;...&lt;/h1&gt;"</span>,
  <span class="hljs-attr">"order_index"</span>: <span class="hljs-number">3</span>,
  <span class="hljs-attr">"estimated_hours"</span>: <span class="hljs-number">4.0</span>
}
</div></code></pre>
<h3 id="admin-put-apimodulesmoduleid"><code>(Admin) PUT /api/modules/:moduleId</code></h3>
<p>â†’ Cáº­p nháº­t module</p>
<h3 id="admin-delete-apimodulesmoduleid"><code>(Admin) DELETE /api/modules/:moduleId</code></h3>
<p>â†’ XÃ³a module</p>
<hr>
<h2 id="%F0%9F%93%8C-module-3-ti%E1%BA%BFn-%C4%91%E1%BB%99-h%E1%BB%8Dc-t%E1%BA%ADp-user-progress">ğŸ“Œ <strong>Module 3: Tiáº¿n Ä‘á»™ há»c táº­p (User Progress)</strong></h2>
<h3 id="get-apiprogressroadmapsroadmapid"><code>GET /api/progress/roadmaps/:roadmapId</code></h3>
<p><strong>Response</strong>:</p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"roadmap_id"</span>: <span class="hljs-string">"uuid-r1"</span>,
  <span class="hljs-attr">"progress"</span>: [
    {
      <span class="hljs-attr">"module_id"</span>: <span class="hljs-string">"uuid-m1"</span>,
      <span class="hljs-attr">"status"</span>: <span class="hljs-string">"completed"</span>,
      <span class="hljs-attr">"completion_percentage"</span>: <span class="hljs-number">100.00</span>
    }
  ]
}
</div></code></pre>
<h3 id="post-apiprogressmodulesmoduleidupdate"><code>POST /api/progress/modules/:moduleId/update</code></h3>
<p><strong>Request</strong>:</p>
<pre class="hljs"><code><div>{ <span class="hljs-attr">"status"</span>: <span class="hljs-string">"completed"</span> }
</div></code></pre>
<p>â†’ Há»‡ thá»‘ng tá»± cáº­p nháº­t <code>started_at</code> / <code>completed_at</code></p>
<hr>
<h2 id="%F0%9F%93%8C-module-4-tr%E1%BB%A3-l%C3%BD-ai--ghi-ch%C3%BA-ai-assistant--notes">ğŸ“Œ <strong>Module 4: Trá»£ lÃ½ AI &amp; Ghi chÃº (AI Assistant &amp; Notes)</strong></h2>
<h3 id="get-apimodulesmoduleidnotes"><code>GET /api/modules/:moduleId/notes</code></h3>
<p><strong>Response</strong>:</p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"notes"</span>: [
    {
      <span class="hljs-attr">"note_id"</span>: <span class="hljs-string">"uuid-n1"</span>,
      <span class="hljs-attr">"note_type"</span>: <span class="hljs-string">"user_question"</span>,
      <span class="hljs-attr">"content"</span>: <span class="hljs-string">"Virtual DOM lÃ  gÃ¬?"</span>,
      <span class="hljs-attr">"created_at"</span>: <span class="hljs-string">"2025-10-25T10:00:00Z"</span>
    },
    {
      <span class="hljs-attr">"note_id"</span>: <span class="hljs-string">"uuid-n2"</span>,
      <span class="hljs-attr">"note_type"</span>: <span class="hljs-string">"ai_response"</span>,
      <span class="hljs-attr">"content"</span>: <span class="hljs-string">"Virtual DOM lÃ ..."</span>,
      <span class="hljs-attr">"created_at"</span>: <span class="hljs-string">"2025-10-25T10:00:05Z"</span>
    }
  ]
}
</div></code></pre>
<h3 id="post-apimodulesmoduleidask"><code>POST /api/modules/:moduleId/ask</code></h3>
<p><strong>Request</strong> (<code>application/json</code>):</p>
<pre class="hljs"><code><div>{ <span class="hljs-attr">"question"</span>: <span class="hljs-string">"Giáº£i thÃ­ch React Hooks?"</span> }
</div></code></pre>
<p><strong>Response</strong>:</p>
<pre class="hljs"><code><div>{ <span class="hljs-attr">"answer"</span>: <span class="hljs-string">"React Hooks cho phÃ©p báº¡n sá»­ dá»¥ng state..."</span> }
</div></code></pre>
<h3 id="post-apimodulesmoduleidgenerate-summary-m%E1%BB%9F-r%E1%BB%99ng"><code>POST /api/modules/:moduleId/generate-summary</code> <em>(má»Ÿ rá»™ng)</em></h3>
<p><strong>Request</strong>:</p>
<pre class="hljs"><code><div>{ <span class="hljs-attr">"format"</span>: <span class="hljs-string">"bullet_points"</span>, <span class="hljs-attr">"max_points"</span>: <span class="hljs-number">3</span> }
</div></code></pre>
<p>â†’ LÆ°u vÃ o <code>AINotes</code> vá»›i <code>note_type: 'summary'</code></p>
<hr>
<h2 id="%F0%9F%93%8C-module-5-l%E1%BB%8Bch-h%E1%BB%8Dc-c%C3%A1-nh%C3%A2n-learning-calendar">ğŸ“Œ <strong>Module 5: Lá»‹ch há»c cÃ¡ nhÃ¢n (Learning Calendar)</strong></h2>
<h3 id="get-apicalendareventsstartdate2025-10-25enddate2025-10-31"><code>GET /api/calendar/events?startDate=2025-10-25&amp;endDate=2025-10-31</code></h3>
<p><strong>Response</strong>:</p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"events"</span>: [
    {
      <span class="hljs-attr">"event_id"</span>: <span class="hljs-string">"uuid-e1"</span>,
      <span class="hljs-attr">"title"</span>: <span class="hljs-string">"Há»c React"</span>,
      <span class="hljs-attr">"start_utc"</span>: <span class="hljs-string">"2025-10-26T09:00:00Z"</span>,
      <span class="hljs-attr">"end_utc"</span>: <span class="hljs-string">"2025-10-26T11:00:00Z"</span>,
      <span class="hljs-attr">"module_id"</span>: <span class="hljs-string">"uuid-m1"</span>,
      <span class="hljs-attr">"is_ai_suggested"</span>: <span class="hljs-literal">false</span>
    }
  ]
}
</div></code></pre>
<h3 id="post-apicalendarevents"><code>POST /api/calendar/events</code></h3>
<p><strong>Request</strong>:</p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"title"</span>: <span class="hljs-string">"Há»c Redux"</span>,
  <span class="hljs-attr">"start_utc"</span>: <span class="hljs-string">"2025-10-27T14:00:00Z"</span>,
  <span class="hljs-attr">"end_utc"</span>: <span class="hljs-string">"2025-10-27T16:00:00Z"</span>,
  <span class="hljs-attr">"module_id"</span>: <span class="hljs-string">"uuid-m2"</span>,
  <span class="hljs-attr">"all_day"</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-attr">"timezone"</span>: <span class="hljs-string">"Asia/Ho_Chi_Minh"</span>
}
</div></code></pre>
<h3 id="put-apicalendareventseventid"><code>PUT /api/calendar/events/:eventId</code></h3>
<h3 id="delete-apicalendareventseventid"><code>DELETE /api/calendar/events/:eventId</code></h3>
<hr>
<h2 id="%F0%9F%93%8C-module-6-luy%E1%BB%87n-ph%E1%BB%8Fng-v%E1%BA%A5n-v%E1%BB%9Bi-ai-ai-interview-practice">ğŸ“Œ <strong>Module 6: Luyá»‡n phá»ng váº¥n vá»›i AI (AI Interview Practice)</strong></h2>
<h3 id="get-apiinterviews"><code>GET /api/interviews</code></h3>
<p>â†’ <strong>Má»šI THÃŠM</strong>: Liá»‡t kÃª toÃ n bá»™ phiÃªn phá»ng váº¥n<br>
<strong>Response</strong>:</p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"sessions"</span>: [
    {
      <span class="hljs-attr">"session_id"</span>: <span class="hljs-string">"uuid-s1"</span>,
      <span class="hljs-attr">"session_name"</span>: <span class="hljs-string">"Frontend Interview"</span>,
      <span class="hljs-attr">"interview_type"</span>: <span class="hljs-string">"simulated"</span>,
      <span class="hljs-attr">"created_at"</span>: <span class="hljs-string">"2025-10-24T00:00:00Z"</span>,
      <span class="hljs-attr">"score"</span>: <span class="hljs-number">85.50</span>
    }
  ]
}
</div></code></pre>
<h3 id="post-apiinterviewsstart"><code>POST /api/interviews/start</code></h3>
<p><strong>Request</strong>:</p>
<pre class="hljs"><code><div>{ <span class="hljs-attr">"roadmap_id"</span>: <span class="hljs-string">"uuid-r1"</span> }
</div></code></pre>
<p><strong>Response</strong>:</p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"sessionId"</span>: <span class="hljs-string">"uuid-s1"</span>,
  <span class="hljs-attr">"firstQuestion"</span>: <span class="hljs-string">"Giá»›i thiá»‡u vá» báº£n thÃ¢n?"</span>
}
</div></code></pre>
<h3 id="post-apiinterviewssessionidanswer"><code>POST /api/interviews/:sessionId/answer</code></h3>
<p><strong>Há»— trá»£ 2 kiá»ƒu</strong>:</p>
<ul>
<li><strong>Text</strong>: <code>application/json</code> â†’ <code>{ &quot;answerText&quot;: &quot;TÃ´i lÃ ...&quot; }</code></li>
<li><strong>Audio</strong>: <code>multipart/form-data</code> â†’ field <code>answerAudio</code> (file <code>.wav</code>, <code>.mp3</code>)<br>
â†’ Backend dÃ¹ng <strong>Whisper API</strong> Ä‘á»ƒ chuyá»ƒn thÃ nh text</li>
</ul>
<p><strong>Response</strong>:</p>
<pre class="hljs"><code><div>{ <span class="hljs-attr">"nextQuestion"</span>: <span class="hljs-string">"Báº¡n dÃ¹ng React bao lÃ¢u rá»“i?"</span> }
</div></code></pre>
<h3 id="post-apiinterviewssessionidend"><code>POST /api/interviews/:sessionId/end</code></h3>
<p>â†’ Tráº£ vá» <code>202 Accepted</code> + message</p>
<h3 id="get-apiinterviewssessionid"><code>GET /api/interviews/:sessionId</code></h3>
<p>â†’ Tráº£ vá» toÃ n bá»™ lá»‹ch sá»­ + <code>ai_feedback</code></p>
<hr>
<h2 id="%F0%9F%93%8C-module-7-x%C3%A2y-d%E1%BB%B1ng-cv-cv-builder">ğŸ“Œ <strong>Module 7: XÃ¢y dá»±ng CV (CV Builder)</strong></h2>
<h3 id="get-apicvs"><code>GET /api/cvs</code></h3>
<h3 id="post-apicvs"><code>POST /api/cvs</code></h3>
<p>â†’ Táº¡o CV má»›i</p>
<h3 id="put-apicvscvid"><code>PUT /api/cvs/:cvId</code></h3>
<p><strong>Request</strong>:</p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"cv_name"</span>: <span class="hljs-string">"My CV"</span>,
  <span class="hljs-attr">"personal_info"</span>: { <span class="hljs-attr">"name"</span>: <span class="hljs-string">"A"</span>, <span class="hljs-attr">"email"</span>: <span class="hljs-string">"..."</span> },
  <span class="hljs-attr">"experience"</span>: [ { <span class="hljs-attr">"company"</span>: <span class="hljs-string">"X"</span>, <span class="hljs-attr">"role"</span>: <span class="hljs-string">"Dev"</span> } ]
}
</div></code></pre>
<h3 id="post-apicvscvidenhance-%E2%86%92-s%E1%BB%ADa-l%E1%BA%A1i-cho-%C4%91%C3%BAng"><code>POST /api/cvs/:cvId/enhance</code> â†’ <strong>Sá»¬A Láº I CHO ÄÃšNG</strong></h3>
<p><strong>Request</strong>:</p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"section"</span>: <span class="hljs-string">"experience"</span>,
  <span class="hljs-attr">"item_index"</span>: <span class="hljs-number">0</span>,
  <span class="hljs-attr">"content"</span>: <span class="hljs-string">"TÃ´i lÃ m viá»‡c táº¡i cÃ´ng ty X..."</span>
}
</div></code></pre>
<p><strong>Response</strong>:</p>
<pre class="hljs"><code><div>{ <span class="hljs-attr">"enhancedContent"</span>: <span class="hljs-string">"PhÃ¡t triá»ƒn á»©ng dá»¥ng web táº¡i cÃ´ng ty X..."</span> }
</div></code></pre>
<h3 id="get-apicvscviddownload"><code>GET /api/cvs/:cvId/download</code></h3>
<p>â†’ Tráº£ vá» file PDF (stream hoáº·c redirect URL)</p>
<hr>
<h2 id="%F0%9F%93%8C-module-8-ch%E1%BB%A9ng-ch%E1%BB%89-certificates">ğŸ“Œ <strong>Module 8: Chá»©ng chá»‰ (Certificates)</strong></h2>
<h3 id="get-apicertificates"><code>GET /api/certificates</code></h3>
<p><strong>Response</strong>:</p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"certificates"</span>: [
    {
      <span class="hljs-attr">"certificate_id"</span>: <span class="hljs-string">"uuid-c1"</span>,
      <span class="hljs-attr">"certificate_name"</span>: <span class="hljs-string">"React Master"</span>,
      <span class="hljs-attr">"issue_date"</span>: <span class="hljs-string">"2025-10-25T00:00:00Z"</span>,
      <span class="hljs-attr">"roadmap_id"</span>: <span class="hljs-string">"uuid-r1"</span>
    }
  ]
}
</div></code></pre>
<h3 id="get-apicertificatescertificateiddownload"><code>GET /api/certificates/:certificateId/download</code></h3>
<p>â†’ Tráº£ vá» PDF</p>
<h3 id="get-apiroadmapsroadmapidcompletion-%E2%86%92-m%E1%BB%9Bi-th%C3%AAm"><code>GET /api/roadmaps/:roadmapId/completion</code> â†’ <strong>Má»šI THÃŠM</strong></h3>
<p><strong>Response</strong>:</p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"roadmap_id"</span>: <span class="hljs-string">"uuid-r1"</span>,
  <span class="hljs-attr">"completion_percentage"</span>: <span class="hljs-number">100.00</span>,
  <span class="hljs-attr">"is_eligible_for_certificate"</span>: <span class="hljs-literal">true</span>
}
</div></code></pre>
<hr>
<h2 id="%F0%9F%94%AE-ph%E1%BA%A7n-m%E1%BB%9F-r%E1%BB%99ng-h%E1%BB%97-tr%E1%BB%A3-real-time--%C4%91a-ph%C6%B0%C6%A1ng-ti%E1%BB%87n-future-ready">ğŸ”® <strong>Pháº§n Má»Ÿ Rá»™ng: Há»— trá»£ Real-time &amp; Äa phÆ°Æ¡ng tiá»‡n (Future-Ready)</strong></h2>
<blockquote>
<p><strong>Má»¥c tiÃªu</strong>: Chuáº©n bá»‹ háº¡ táº§ng cho tÃ­nh nÄƒng <strong>phá»ng váº¥n báº±ng thoáº¡i trá»±c tiáº¿p</strong>, <strong>chia sáº» hÃ¬nh áº£nh khi há»i AI</strong>, v.v.</p>
</blockquote>
<h3 id="websocket-wsinterviewsessionid">WebSocket: <code>/ws/interview/:sessionId</code></h3>
<ul>
<li><strong>Káº¿t ná»‘i</strong>: Khi user vÃ o phÃ²ng phá»ng váº¥n</li>
<li><strong>Giao thá»©c</strong>:
<ul>
<li>Client gá»­i: <code>{ &quot;type&quot;: &quot;audio_chunk&quot;, &quot;data&quot;: &lt;base64 or binary&gt; }</code></li>
<li>Server pháº£n há»“i: <code>{ &quot;type&quot;: &quot;transcript&quot;, &quot;text&quot;: &quot;...&quot; }</code> hoáº·c <code>{ &quot;type&quot;: &quot;question&quot;, &quot;content&quot;: &quot;...&quot; }</code></li>
</ul>
</li>
<li>DÃ¹ng <strong>binary WebSocket frames</strong> Ä‘á»ƒ truyá»n audio hiá»‡u quáº£</li>
</ul>
<h3 id="post-apimodulesmoduleidask-%E2%80%93-h%E1%BB%97-tr%E1%BB%A3-file-%C4%91%C3%ADnh-k%C3%A8m"><code>POST /api/modules/:moduleId/ask</code> â€“ <strong>Há»— trá»£ file Ä‘Ã­nh kÃ¨m</strong></h3>
<p><strong>Request</strong>: <code>multipart/form-data</code></p>
<ul>
<li><code>question</code>: text (required)</li>
<li><code>attachment</code>: file (optional, image/png, image/jpeg)
â†’ AI cÃ³ thá»ƒ phÃ¢n tÃ­ch hÃ¬nh áº£nh (dÃ¹ng Vision API) náº¿u cáº§n</li>
</ul>
<h3 id="post-apiusersmeavatar"><code>POST /api/users/me/avatar</code></h3>
<p><strong>Upload avatar</strong> â†’ dÃ¹ng <code>multipart/form-data</code> [[1], [8]]</p>
<ul>
<li>Accept: <code>image/jpeg</code>, <code>image/png</code></li>
<li>Max size: 5MB</li>
</ul>
<p>DÆ°á»›i Ä‘Ã¢y lÃ  <strong>bá»• sung Ä‘áº§y Ä‘á»§ cÃ¡c endpoint cÃ²n thiáº¿u</strong> theo yÃªu cáº§u, Ä‘Æ°á»£c viáº¿t báº±ng <strong>tiáº¿ng Viá»‡t</strong>, chi tiáº¿t, cÃ³ <strong>JSON schema rÃµ rÃ ng</strong>, há»— trá»£ <strong>nÃ¢ng cao</strong> (WebSocket, upload Ä‘a phÆ°Æ¡ng tiá»‡n), vÃ  <strong>loáº¡i bá» hoÃ n toÃ n cÃ¡c yáº¿u tá»‘ liÃªn quan Ä‘áº¿n coding exercises</strong> (vÃ¬ ná»n táº£ng táº­p trung vÃ o <strong>há»c lÃ½ thuyáº¿t + phÃ¡t triá»ƒn sá»± nghiá»‡p</strong>, khÃ´ng pháº£i coding).</p>
<hr>
<h2 id="%F0%9F%93%8C-b%E1%BB%95-sung-module-qu%E1%BA%A3n-tr%E1%BB%8B-admin--creator">ğŸ“Œ <strong>Bá»• sung: Module Quáº£n trá»‹ (Admin / Creator)</strong></h2>
<h3 id="delete-apiroadmapsroadmapid"><code>DELETE /api/roadmaps/:roadmapId</code></h3>
<p><strong>Má»¥c Ä‘Ã­ch</strong>: XÃ³a toÃ n bá»™ lá»™ trÃ¬nh (chá»‰ Admin/Creator â€“ ngÆ°á»i táº¡o lá»™ trÃ¬nh Ä‘Ã³)<br>
<strong>Response</strong>: <code>204 No Content</code><br>
â†’ Há»‡ thá»‘ng tá»± Ä‘á»™ng xÃ³a cascade cÃ¡c <code>Modules</code>, <code>UserProgress</code>, <code>Certificates</code> liÃªn quan (theo foreign key constraint).</p>
<hr>
<h2 id="%F0%9F%93%8C-b%E1%BB%95-sung-qu%E1%BA%A3n-l%C3%BD-ch%E1%BB%A9ng-ch%E1%BB%89-certificates">ğŸ“Œ <strong>Bá»• sung: Quáº£n lÃ½ Chá»©ng chá»‰ (Certificates)</strong></h2>
<h3 id="post-apicertificates"><code>POST /api/certificates</code></h3>
<p><strong>Má»¥c Ä‘Ã­ch</strong>: <strong>Admin</strong> cáº¥p chá»©ng chá»‰ thá»§ cÃ´ng (trong trÆ°á»ng há»£p Ä‘áº·c biá»‡t, vÃ­ dá»¥: user há»c offline)<br>
<strong>Request</strong> (<code>application/json</code>):</p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"user_id"</span>: <span class="hljs-string">"uuid-user123"</span>,
  <span class="hljs-attr">"roadmap_id"</span>: <span class="hljs-string">"uuid-roadmap456"</span>,
  <span class="hljs-attr">"certificate_name"</span>: <span class="hljs-string">"React Advanced Certification"</span>
}
</div></code></pre>
<p><strong>Response</strong> (<code>201 Created</code>):</p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"certificate_id"</span>: <span class="hljs-string">"uuid-cert789"</span>,
  <span class="hljs-attr">"pdf_url"</span>: <span class="hljs-string">"https://..."</span>,
  <span class="hljs-attr">"issue_date"</span>: <span class="hljs-string">"2025-10-25T00:00:00Z"</span>
}
</div></code></pre>
<hr>
<h2 id="%F0%9F%93%8C-b%E1%BB%95-sung-qu%E1%BA%A3n-l%C3%BD-t%C3%A0i-nguy%C3%AAn-c%C3%A1-nh%C3%A2n">ğŸ“Œ <strong>Bá»• sung: Quáº£n lÃ½ TÃ i nguyÃªn CÃ¡ nhÃ¢n</strong></h2>
<h3 id="delete-apicvscvid"><code>DELETE /api/cvs/:cvId</code></h3>
<p><strong>Má»¥c Ä‘Ã­ch</strong>: XÃ³a CV<br>
<strong>Response</strong>: <code>204 No Content</code></p>
<h3 id="delete-apimodulesmoduleidnotesnoteid"><code>DELETE /api/modules/:moduleId/notes/:noteId</code></h3>
<p><strong>Má»¥c Ä‘Ã­ch</strong>: XÃ³a má»™t ghi chÃº AI cá»¥ thá»ƒ (do ngÆ°á»i dÃ¹ng táº¡o)<br>
<strong>Response</strong>: <code>204 No Content</code></p>
<h3 id="put-apimodulesmoduleidnotesnoteid"><code>PUT /api/modules/:moduleId/notes/:noteId</code></h3>
<p><strong>Má»¥c Ä‘Ã­ch</strong>: Chá»‰nh sá»­a ghi chÃº (chá»‰ Ã¡p dá»¥ng cho <code>note_type = 'user_question'</code>)<br>
<strong>Request</strong>:</p>
<pre class="hljs"><code><div>{ <span class="hljs-attr">"content"</span>: <span class="hljs-string">"Cáº­p nháº­t cÃ¢u há»i: Virtual DOM hoáº¡t Ä‘á»™ng nhÆ° tháº¿ nÃ o?"</span> }
</div></code></pre>
<p><strong>Response</strong>: <code>200 OK</code> + ghi chÃº Ä‘Ã£ cáº­p nháº­t</p>
<hr>
<h2 id="%F0%9F%93%8C-b%E1%BB%95-sung-ti%E1%BA%BFn-%C4%91%E1%BB%99-h%E1%BB%8Dc-t%E1%BA%ADp-user-progress-%E2%80%93-n%C3%A2ng-cao">ğŸ“Œ <strong>Bá»• sung: Tiáº¿n Ä‘á»™ há»c táº­p (User Progress â€“ NÃ¢ng cao)</strong></h2>
<h3 id="get-apiprogressoverview"><code>GET /api/progress/overview</code></h3>
<p><strong>Má»¥c Ä‘Ã­ch</strong>: Tá»•ng quan tiáº¿n Ä‘á»™ toÃ n bá»™<br>
<strong>Response</strong>:</p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"total_roadmaps_started"</span>: <span class="hljs-number">3</span>,
  <span class="hljs-attr">"total_modules_completed"</span>: <span class="hljs-number">12</span>,
  <span class="hljs-attr">"current_active_roadmap"</span>: {
    <span class="hljs-attr">"roadmap_id"</span>: <span class="hljs-string">"uuid-r1"</span>,
    <span class="hljs-attr">"title"</span>: <span class="hljs-string">"React Masterclass"</span>,
    <span class="hljs-attr">"completion_percentage"</span>: <span class="hljs-number">65.50</span>
  },
  <span class="hljs-attr">"streak_days"</span>: <span class="hljs-number">7</span>
}
</div></code></pre>
<h3 id="get-apiprogressmodulesmoduleid"><code>GET /api/progress/modules/:moduleId</code></h3>
<p><strong>Má»¥c Ä‘Ã­ch</strong>: Xem chi tiáº¿t tiáº¿n Ä‘á»™ cá»§a má»™t module<br>
<strong>Response</strong>:</p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"module_id"</span>: <span class="hljs-string">"uuid-m1"</span>,
  <span class="hljs-attr">"status"</span>: <span class="hljs-string">"in_progress"</span>,
  <span class="hljs-attr">"completion_percentage"</span>: <span class="hljs-number">40.00</span>,
  <span class="hljs-attr">"started_at"</span>: <span class="hljs-string">"2025-10-20T00:00:00Z"</span>,
  <span class="hljs-attr">"last_accessed_at"</span>: <span class="hljs-string">"2025-10-25T08:00:00Z"</span>
}
</div></code></pre>
<hr>
<h2 id="%F0%9F%93%8C-b%E1%BB%95-sung-b%C3%A0i-t%E1%BA%ADp-exercises-%E2%80%93-phi%C3%AAn-b%E1%BA%A3n-kh%C3%B4ng-coding">ğŸ“Œ <strong>Bá»• sung: BÃ i táº­p (Exercises â€“ PhiÃªn báº£n khÃ´ng coding)</strong></h2>
<blockquote>
<p>ğŸ’¡ <strong>LÆ°u Ã½</strong>: VÃ¬ ná»n táº£ng <strong>khÃ´ng táº­p trung vÃ o coding</strong>, nÃªn <code>Exercises</code> á»Ÿ Ä‘Ã¢y lÃ  <strong>cÃ¢u há»i tá»± luáº­n / tráº¯c nghiá»‡m lÃ½ thuyáº¿t</strong>, khÃ´ng cÃ³ <code>starter_code</code> hay <code>solution_code</code>.</p>
</blockquote>
<h3 id="get-apiexercisesmoduleiduuid-m1"><code>GET /api/exercises?module_id=uuid-m1</code></h3>
<p><strong>Response</strong>:</p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"exercises"</span>: [
    {
      <span class="hljs-attr">"exercise_id"</span>: <span class="hljs-string">"uuid-e1"</span>,
      <span class="hljs-attr">"title"</span>: <span class="hljs-string">"Giáº£i thÃ­ch Virtual DOM"</span>,
      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"TrÃ¬nh bÃ y ngáº¯n gá»n cÃ¡ch Virtual DOM giÃºp tá»‘i Æ°u hiá»‡u nÄƒng trong React."</span>,
      <span class="hljs-attr">"difficulty"</span>: <span class="hljs-string">"medium"</span>,
      <span class="hljs-attr">"examples"</span>: [
        { <span class="hljs-attr">"question"</span>: <span class="hljs-string">"Virtual DOM lÃ  gÃ¬?"</span>, <span class="hljs-attr">"answer_hint"</span>: <span class="hljs-string">"LÃ  báº£n sao nháº¹..."</span> }
      ]
    }
  ]
}
</div></code></pre>
<h3 id="post-apiexercises"><code>POST /api/exercises</code></h3>
<p><strong>(Admin)</strong> Táº¡o bÃ i táº­p má»›i<br>
<strong>Request</strong>:</p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"module_id"</span>: <span class="hljs-string">"uuid-m1"</span>,
  <span class="hljs-attr">"title"</span>: <span class="hljs-string">"So sÃ¡nh useState vÃ  useReducer"</span>,
  <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Khi nÃ o nÃªn dÃ¹ng useReducer thay vÃ¬ useState?"</span>,
  <span class="hljs-attr">"difficulty"</span>: <span class="hljs-string">"hard"</span>,
  <span class="hljs-attr">"examples"</span>: []
}
</div></code></pre>
<h3 id="put-apiexercisesexerciseid"><code>PUT /api/exercises/:exerciseId</code></h3>
<h3 id="delete-apiexercisesexerciseid"><code>DELETE /api/exercises/:exerciseId</code></h3>
<h3 id="post-apiexercisesexerciseidsubmit"><code>POST /api/exercises/:exerciseId/submit</code></h3>
<p><strong>Má»¥c Ä‘Ã­ch</strong>: Gá»­i cÃ¢u tráº£ lá»i cho bÃ i táº­p (text)<br>
<strong>Request</strong>:</p>
<pre class="hljs"><code><div>{ <span class="hljs-attr">"answer_text"</span>: <span class="hljs-string">"TÃ´i nghÄ© useReducer phÃ¹ há»£p khi state phá»©c táº¡p..."</span> }
</div></code></pre>
<p>â†’ Há»‡ thá»‘ng <strong>lÆ°u vÃ o báº£ng <code>UserProgress</code> hoáº·c má»™t báº£ng riÃªng náº¿u cáº§n</strong>, nhÆ°ng <strong>khÃ´ng cháº¥m Ä‘iá»ƒm tá»± Ä‘á»™ng</strong> (vÃ¬ lÃ  tá»± luáº­n). CÃ³ thá»ƒ dÃ¹ng AI Ä‘á»ƒ Ä‘Æ°a gá»£i Ã½ pháº£n há»“i sau.</p>
<hr>
<h2 id="%F0%9F%93%8C-b%E1%BB%95-sung-qu%E1%BA%A3n-l%C3%BD-h%E1%BB%93-s%C6%A1--b%E1%BA%A3o-m%E1%BA%ADt">ğŸ“Œ <strong>Bá»• sung: Quáº£n lÃ½ Há»“ sÆ¡ &amp; Báº£o máº­t</strong></h2>
<h3 id="post-apiusersmeavatar"><code>POST /api/users/me/avatar</code></h3>
<p><strong>Má»¥c Ä‘Ã­ch</strong>: Upload avatar<br>
<strong>Request</strong>: <code>multipart/form-data</code></p>
<ul>
<li>Field: <code>avatar</code> (file)</li>
<li>Äá»‹nh dáº¡ng: <code>image/jpeg</code>, <code>image/png</code></li>
<li>Max size: 5MB<br>
<strong>Response</strong> (<code>200 OK</code>):</li>
</ul>
<pre class="hljs"><code><div>{ <span class="hljs-attr">"avatar_url"</span>: <span class="hljs-string">"https://cdn.skillsync/avatar-123.jpg"</span> }
</div></code></pre>
<h3 id="put-apiauthpassword"><code>PUT /api/auth/password</code></h3>
<p><strong>Má»¥c Ä‘Ã­ch</strong>: Äá»•i máº­t kháº©u<br>
<strong>Request</strong>:</p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"current_password"</span>: <span class="hljs-string">"OldPass123!"</span>,
  <span class="hljs-attr">"new_password"</span>: <span class="hljs-string">"NewSecurePass456!"</span>
}
</div></code></pre>
<p><strong>Response</strong>: <code>200 OK</code> + message</p>
<hr>
<h2 id="%F0%9F%93%8C-b%E1%BB%95-sung-websocket-%E2%80%93-ph%E1%BB%8Fng-v%E1%BA%A5n-tr%E1%BB%B1c-ti%E1%BA%BFp-real-time-audio">ğŸ“Œ <strong>Bá»• sung: WebSocket â€“ Phá»ng váº¥n Trá»±c tiáº¿p (Real-time Audio)</strong></h2>
<h3 id="websocket-wsinterviewsessionid"><code>WebSocket: /ws/interview/:sessionId</code></h3>
<p><strong>Má»¥c Ä‘Ã­ch</strong>: Há»— trá»£ <strong>phá»ng váº¥n thoáº¡i trá»±c tiáº¿p</strong> vá»›i Ä‘á»™ trá»… tháº¥p.</p>
<h4 id="giao-th%E1%BB%A9c-tin-nh%E1%BA%AFn-json-format">Giao thá»©c tin nháº¯n (JSON format):</h4>
<ul>
<li>
<p><strong>Client â†’ Server</strong>:</p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"type"</span>: <span class="hljs-string">"audio_start"</span>
}
</div></code></pre>
<p>â†’ Báº¯t Ä‘áº§u gá»­i audio (dÆ°á»›i dáº¡ng <strong>binary frame</strong>)</p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"type"</span>: <span class="hljs-string">"audio_end"</span>
}
</div></code></pre>
<p>â†’ Káº¿t thÃºc gá»­i audio</p>
<blockquote>
<p>ğŸ“Œ <strong>LÆ°u Ã½</strong>: Audio Ä‘Æ°á»£c gá»­i liÃªn tá»¥c dÆ°á»›i dáº¡ng <strong>binary WebSocket frames</strong> (khÃ´ng pháº£i JSON). Chá»‰ cÃ¡c lá»‡nh Ä‘iá»u khiá»ƒn dÃ¹ng JSON.</p>
</blockquote>
</li>
<li>
<p><strong>Server â†’ Client</strong>:</p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"type"</span>: <span class="hljs-string">"transcript"</span>,
  <span class="hljs-attr">"text"</span>: <span class="hljs-string">"TÃ´i Ä‘Ã£ lÃ m viá»‡c táº¡i cÃ´ng ty X..."</span>
}
</div></code></pre>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"type"</span>: <span class="hljs-string">"ai_question"</span>,
  <span class="hljs-attr">"content"</span>: <span class="hljs-string">"Báº¡n xá»­ lÃ½ xung Ä‘á»™t trong team nhÆ° tháº¿ nÃ o?"</span>
}
</div></code></pre>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"type"</span>: <span class="hljs-string">"session_end"</span>,
  <span class="hljs-attr">"feedback_summary"</span>: <span class="hljs-string">"Báº¡n tráº£ lá»i tá»‘t vá» ká»¹ thuáº­t..."</span>
}
</div></code></pre>
</li>
</ul>
<h4 id="h%E1%BB%97-tr%E1%BB%A3-%C4%91%E1%BB%8Bnh-d%E1%BA%A1ng-audio">Há»— trá»£ Ä‘á»‹nh dáº¡ng audio:</h4>
<ul>
<li>Client gá»­i: <strong>WebM/Opus</strong> (tá»« <code>MediaRecorder</code> trÃªn trÃ¬nh duyá»‡t)</li>
<li>Server dÃ¹ng <strong>OpenAI Whisper</strong> hoáº·c <strong>Google Speech-to-Text</strong> Ä‘á»ƒ chuyá»ƒn thÃ nh text</li>
<li>KhÃ´ng lÆ°u audio gá»‘c â€“ chá»‰ lÆ°u <strong>transcript</strong> vÃ o <code>InterviewSessions.user_answers</code></li>
</ul>
<hr>
<h2 id="%F0%9F%93%8C-b%E1%BB%95-sung-qu%E1%BA%A3n-l%C3%BD-nh%E1%BA%AFc-nh%E1%BB%9F-calendar-reminders">ğŸ“Œ <strong>Bá»• sung: Quáº£n lÃ½ Nháº¯c nhá»Ÿ (Calendar Reminders)</strong></h2>
<h3 id="put-apicalendareventseventidreminder"><code>PUT /api/calendar/events/:eventId/reminder</code></h3>
<p><strong>Má»¥c Ä‘Ã­ch</strong>: Cáº­p nháº­t thá»i gian nháº¯c nhá»Ÿ trÆ°á»›c sá»± kiá»‡n<br>
<strong>Request</strong>:</p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"reminder_minutes"</span>: <span class="hljs-number">30</span>
}
</div></code></pre>
<p>â†’ GiÃ¡ trá»‹ há»£p lá»‡: <code>5</code>, <code>15</code>, <code>30</code>, <code>60</code>, <code>1440</code> (1 ngÃ y)<br>
â†’ LÆ°u vÃ o cá»™t <code>reminder_minutes</code> cá»§a <code>LearningEvents</code><br>
<strong>Response</strong>: <code>200 OK</code></p>
<hr>
<p>âœ… <strong>Tá»•ng káº¿t bá»• sung</strong>:</p>
<ul>
<li><strong>Quáº£n trá»‹</strong>: ÄÃ£ cÃ³ Ä‘á»§ CRUD cho <code>Roadmaps</code>, <code>Modules</code>, <code>Exercises</code>.</li>
<li><strong>NgÆ°á»i dÃ¹ng</strong>: CÃ³ thá»ƒ quáº£n lÃ½ CV, ghi chÃº AI, avatar, máº­t kháº©u.</li>
<li><strong>Tiáº¿n Ä‘á»™</strong>: CÃ³ overview + chi tiáº¿t module.</li>
<li><strong>Phá»ng váº¥n</strong>: Há»— trá»£ cáº£ REST (text/audio file) vÃ  <strong>WebSocket (real-time audio)</strong>.</li>
<li><strong>BÃ i táº­p</strong>: Táº­p trung vÃ o <strong>lÃ½ thuyáº¿t</strong>, khÃ´ng coding.</li>
<li><strong>Nháº¯c nhá»Ÿ</strong>: TÃ¹y chá»‰nh linh hoáº¡t.</li>
</ul>
<p>ToÃ n bá»™ API tuÃ¢n thá»§ <strong>usecase trong <code>ThietKeChung.md</code></strong>, khÃ´ng dÆ° thá»«a, khÃ´ng thiáº¿u sÃ³t, vÃ  sáºµn sÃ ng cho triá»ƒn khai.</p>

</body>
</html>
